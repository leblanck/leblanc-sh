<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <title>Blog</title>
</head>
<body>
    <div class="wrapper">
        <nav>
            <div class="nav-logo">
                <!-- logo -->
                <a href="../index.html">
                    <img src="../img/orange-k.png" width="60px"/>
                </a>
            </div>
            <div class="nav-links">
                <!-- links -->
                <a href="../work.html">Work</a>
                <a href="index.html">Blog</a>
                <a href="../about.html">About</a>
                <a href="">Contact</a>
            </div>
        </nav>
        <main>
            <div class="blog-wrapper">
                <div class="content-wrapper">
                    <div class="content-left">
                        <div>
                           <a href="index.html">
                            <p>← Back to Blog</p>
                           </a>
                        </div>
                    </div>
                    <div class="content-center">
                        <article>
                            <div class="article-header">
                                <h1>Understanding High-Level Kubernetes</h1>
                            </div>
                            
                            <h2>k8s, k3s, minicube, oh my!</h2>
                            <p>After getting a bit of practice with Docker and containerization technology in general, I figured it was time to take a swing at learning Kubernetes (k8s). This is a crazy deep topic. It would require an entire blog to talk about all of k8s most likely. That is not what this is for. This is my high-level understanding of how the most basic parts of a k8s cluster operate.</p>
                            <p>I find that I get a great benefit when trying to learn new topics by writing about it. That could be via notes, a blog post, drawing a chart/diagram etc.</p>

                            <img class="" src="img/k8s_high_level_architecture-1.png" width="800px"/>

                            <h2>Server</h2>
                            <p>This piece is <span class="italic">technically</span> optional. In a cloud-native environment this is required, but in either a home-lab or on-prem environment it is not necessary. By 'not necessary' I mean that if you do not wish to have each of your Nodes running as a VM you could run each one on bare metal instead. (I am thinking of somehting like a Raspberry Pi Cluster). Of course you could also just have a single piece of hardware running multiple VMs in any environment.</p>
                            <p>In a cloud-native production environment this would be made up of whatever hardware is running in your chose cloud provider.</p>
                            <h2>Nodes</h2>
                            <p>Our nodes are our VM instances. Typically Linux based. They can also be bare metal as mentioned above in an on-prem or Raspberry Pi cluster, etc. Nodes are responsible for running our pods. Each node can have upwards of ~500 pods IIRC.</p>

                            <h2>Pods</h2>
                            <p>Pods are the heart of our k8s cluster. They contain our running containers which contain our application images. They are made up of a storage component and a networking component in addition to our container itself.</p>

                            <h2>Control Plane (Master)</h2>
                            <p>The control plane is typically a VM or other Linux machine that runs our commands for managing our k8s cluster. It contains all of the processes listed below.</p>

                            <h2>API</h2>
                            <p>The <span class="highlight">kube-apiserver</span> exposes a JSON request formatted REST API. This is the only piece of this process that users will interact with. This accepts any command from <span class="highlight">kubectl</span> example and then sends it down the chain for k8s to handle the request.</p>

                            <h2>Scheduler</h2>
                            <p>The <span class="highlight">kube-scheduler</span> works to select a node for pods to be deployed to based on many various factors, which are out of the scope of being 'high-level'</p>

                            <h2>Controller</h2>
                            <p>The <span class="highlight">kube-controller-manager</span> watches for changes to pods and nodes. It works to maintain the user-defined desired state.</p>

                            <h2>etcd</h2>
                            <p>etcd is a backing store for our cluster data. It is an open-source, disrtibuted key-value store. It can be swapped out for other storage platforms like MySQL, MongoDB, etc but I don't believe this is very common.</p>

                            <h2>Kubelet</h2>
                            <p>The <span class="highlight">kubelet</span> agent runs on each node, including the master node. The kubelet agents communitcate with each other to report node status. It works in conjunction with the container runtime to run containers on each node.</p>

                            <h2>Container Runtime</h2>
                            <p>The container runtime operates on each node to handle all running containers within each pod. This runtime can be docker, containerd, cri-o, etc.</p>
                        </article>
                    </div>
                    <div class="content-right">
                        <p>11/03/2022</p>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <footer>
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-grid-left">
                    <a href="../index.html">
                        <img src="../img/dark-k.png">
                    </a>
                    <p>© 2024 Kyle LeBlanc</p>
                </div>
                <div class="footer-grid-right">
                    <ul>
                        <li><a href="index.html">Blog</a></li>
                        <li><a href="../about.html">About</a></li>
                        <li><a href="">Contact</a></li>
                        <li><a href="https://github.com/leblanck">Github<span>↗</span></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>